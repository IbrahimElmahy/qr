# 🚀 نظام تتبع الشحنات الكامل

## 📋 نظرة عامة
نظام متكامل لتتبع الشحنات يتكون من:
- **تطبيق أندرويد** لمسح الباركود وإدارة الشركات
- **موقع ويب** لعرض الإحصائيات والتقارير
- **قاعدة بيانات MySQL** لتخزين البيانات
- **API PHP** للاتصال بين التطبيق والموقع

## 🏗️ مكونات النظام

### 1. تطبيق الأندرويد
- **مسح الباركود**: مسح الباركود وحفظ الشحنات
- **إدارة الشركات**: إضافة وتفعيل/تعطيل الشركات
- **الإحصائيات**: عرض إحصائيات يومية
- **مزامنة**: مزامنة البيانات مع الخادم

### 2. موقع الويب
- **تسجيل الدخول**: نظام مصادقة آمن
- **لوحة التحكم**: عرض الإحصائيات الرئيسية
- **إدارة الشركات**: إضافة وتعديل الشركات
- **إدارة المستخدمين**: إدارة المستخدمين والصلاحيات
- **استعراض الشحنات**: البحث والتصفية
- **التقارير**: تقارير مفصلة ومتقدمة

### 3. قاعدة البيانات
- **جدول الشركات**: `companies`
- **جدول الشحنات**: `shipments`
- **جدول المستخدمين**: `users`

## 🚀 خطوات التشغيل

### 1. إعداد البيئة
```bash
# تشغيل ملف إعداد البيئة
setup_android_environment.bat
```

### 2. بناء التطبيق
```bash
# بناء تطبيق الأندرويد
build_and_test_app.bat
```

### 3. اختبار الاتصال
```bash
# اختبار اتصال API
test_api_connection.bat
```

### 4. اختبار النظام الكامل
```bash
# اختبار النظام الكامل
test_complete_system.bat
```

## 📱 استخدام التطبيق

### 1. إدارة الشركات
1. افتح التطبيق
2. اذهب إلى "شركات الشحن"
3. أضف شركة جديدة
4. فعّل/عطّل الشركات

### 2. مسح الباركود
1. اذهب إلى "مسح الباركود"
2. اختر شركة الشحن
3. اضغط "ابدأ المسح"
4. وجه الكاميرا نحو الباركود

### 3. عرض الإحصائيات
1. اذهب إلى "الإحصائيات"
2. شاهد إجمالي الشحنات
3. راجع الشحنات المكررة

## 🌐 استخدام الموقع

### 1. تسجيل الدخول
- **الرابط**: https://zabda-al-tajamil.com/shipment_tracking/website/
- **اسم المستخدم**: admin
- **كلمة المرور**: 1234

### 2. لوحة التحكم
- عرض الإحصائيات الرئيسية
- تصفية حسب التاريخ والشركة
- عرض تفاصيل الشحنات

### 3. إدارة الشركات
- إضافة شركات جديدة
- تعديل بيانات الشركات
- تفعيل/تعطيل الشركات

### 4. إدارة المستخدمين
- إضافة مستخدمين جدد
- تعديل بيانات المستخدمين
- تغيير كلمات المرور

## 🔧 التقنيات المستخدمة

### Frontend (Android)
- **Kotlin**: لغة البرمجة الرئيسية
- **AndroidX**: مكتبات الأندرويد الحديثة
- **Room Database**: قاعدة بيانات محلية
- **Retrofit**: للاتصال بالخادم
- **ZXing**: لمسح الباركود

### Backend (Website)
- **PHP**: لغة البرمجة
- **MySQL**: قاعدة البيانات
- **Bootstrap 5**: للتصميم
- **Font Awesome**: للأيقونات

### API
- **RESTful API**: تصميم API حديث
- **Basic Authentication**: نظام مصادقة
- **JSON**: تنسيق البيانات

## 📊 قاعدة البيانات

### جدول الشركات (companies)
```sql
CREATE TABLE companies (
    id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    is_active BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

### جدول الشحنات (shipments)
```sql
CREATE TABLE shipments (
    id INT AUTO_INCREMENT PRIMARY KEY,
    barcode VARCHAR(255) NOT NULL,
    company_id INT,
    scan_date DATE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (company_id) REFERENCES companies(id)
);
```

### جدول المستخدمين (users)
```sql
CREATE TABLE users (
    id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(255) NOT NULL UNIQUE,
    password VARCHAR(255) NOT NULL,
    role ENUM('admin', 'user') DEFAULT 'user',
    is_active BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

## 🔗 روابط النظام

### الموقع
- **الرئيسي**: https://zabda-al-tajamil.com/shipment_tracking/website/
- **تسجيل الدخول**: https://zabda-al-tajamil.com/shipment_tracking/website/login.php

### API
- **الرئيسي**: https://zabda-al-tajamil.com/shipment_tracking/api/
- **الشركات**: https://zabda-al-tajamil.com/shipment_tracking/api/getCompanies.php
- **الإحصائيات**: https://zabda-al-tajamil.com/shipment_tracking/api/getStats.php

### قاعدة البيانات
- **phpMyAdmin**: https://zabda-al-tajamil.com/phpmyadmin

## 🛠️ استكشاف الأخطاء

### مشاكل التطبيق
1. **خطأ في البناء**: تأكد من تثبيت Java JDK
2. **خطأ في الاتصال**: تأكد من اتصال الإنترنت
3. **خطأ في المصادقة**: تأكد من صحة بيانات API

### مشاكل الموقع
1. **خطأ 404**: تأكد من رفع الملفات بشكل صحيح
2. **خطأ في قاعدة البيانات**: تأكد من إعدادات الاتصال
3. **خطأ في المصادقة**: تأكد من صحة بيانات الدخول

### مشاكل API
1. **خطأ 500**: تأكد من إعدادات قاعدة البيانات
2. **خطأ 401**: تأكد من صحة بيانات المصادقة
3. **خطأ 404**: تأكد من وجود ملفات API

## 📞 الدعم الفني

### للمساعدة:
1. راجع ملف README هذا
2. تحقق من ملفات السجلات
3. تأكد من إعدادات الشبكة
4. تأكد من صحة بيانات الاتصال

## 🎉 النجاح!

إذا تم كل شيء بشكل صحيح، ستحصل على:
- ✅ تطبيق أندرويد يعمل بشكل مثالي
- ✅ موقع ويب يعرض البيانات بشكل صحيح
- ✅ مزامنة تلقائية بين التطبيق والموقع
- ✅ إحصائيات دقيقة ومفصلة

**استمتع باستخدام النظام! 🚀**
